apiVersion: v1
kind: Config
clusters:
- cluster:
    certificate-authority-data: {{ lookup('file', paths.artifacts.certs ~ '/ca.pem') | b64encode }}
    server: https://{{ kubernetes_public_address }}:6443
  name: kubernetes
contexts:
- context:
    cluster: kubernetes
    user: kubernetes-admin
  name: kubernetes-admin@kubernetes
current-context: kubernetes-admin@kubernetes
users:
- name: kubernetes-admin
  user:
    client-certificate-data: {{ lookup('file', paths.artifacts.certs ~ '/admin.pem') | b64encode }}
    client-key-data: {{ lookup('file', paths.artifacts.certs ~ '/admin-key.pem') | b64encode }}